/*
Copyright 2021 The Crossplane Authors.

Licensed under the Apache License, Version 2.0 (the "License");
you may not use this file except in compliance with the License.
You may obtain a copy of the License at

    http://www.apache.org/licenses/LICENSE-2.0

Unless required by applicable law or agreed to in writing, software
distributed under the License is distributed on an "AS IS" BASIS,
WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
See the License for the specific language governing permissions and
limitations under the License.
*/

// Code generated by hack/generate-cluster-scope.go - DO NOT EDIT.

package v1alpha1

import (
	xpv1 "github.com/crossplane/crossplane-runtime/v2/apis/common/v1"
	metav1 "k8s.io/apimachinery/pkg/apis/meta/v1"
)

// BranchAccessDescription represents the access control for a protected branch.
type BranchAccessDescription struct {
	// // ID is the ID of the access level.
	// // +optional
	// ID *int `json:"id,omitempty"`

	// AccessLevel represents the access level for the branch.
	// +optional
	AccessLevel *AccessLevelValue `json:"accessLevel,omitempty"`

	// AccessLevelDescription is the description of the access level.
	// +optional
	AccessLevelDescription *string `json:"accessLevelDescription,omitempty"`

	// UserID is the ID of the user with access.
	// +optional
	UserID *int `json:"userId,omitempty"`

	// GroupID is the ID of the group with access.
	// +optional
	GroupID *int `json:"groupId,omitempty"`
}

// ProtectedBranchParameters defines the desired state of a GitLab Protected Branch.
type ProtectedBranchParameters struct {
	// BranchName is the name of the branch to protect.
	// +kubebuilder:validation:Required
	BranchName string `json:"branchName"`

	// ProjectID is the ID of the project.
	// +crossplane:generate:reference:type=github.com/crossplane-contrib/provider-gitlab/apis/cluster/projects/v1alpha1.Project
	// +optional
	ProjectID *string `json:"projectId,omitempty"`

	// ProjectIDRef is a reference to a project to retrieve its projectId.
	// +optional
	ProjectIDRef *xpv1.Reference `json:"projectIdRef,omitempty"`

	// ProjectIDSelector selects reference to a project to retrieve its projectId.
	// +optional
	ProjectIDSelector *xpv1.Selector `json:"projectIdSelector,omitempty"`

	// PushAccessLevels represents the push access levels for the protected branch.
	// +optional
	PushAccessLevels []*BranchAccessDescription `json:"pushAccessLevels,omitempty"`

	// MergeAccessLevels represents the merge access levels for the protected branch.
	// +optional
	MergeAccessLevels []*BranchAccessDescription `json:"mergeAccessLevels,omitempty"`

	// UnprotectAccessLevels represents the unprotect access levels for the protected branch.
	// +optional
	UnprotectAccessLevels []*BranchAccessDescription `json:"unprotectAccessLevels,omitempty"`

	// AllowForcePush allows force push to the protected branch.
	// +optional
	AllowForcePush *bool `json:"allowForcePush,omitempty"`

	// CodeOwnerApprovalRequired requires code owner approval for merge requests.
	// +optional
	CodeOwnerApprovalRequired *bool `json:"codeOwnerApprovalRequired,omitempty"`
}

// ProtectedBranchObservation represents the observed state of a GitLab Protected Branch.
type ProtectedBranchObservation struct {
	// ID is the ID of the protected branch.
	ID int `json:"id,omitempty"`

	// PushAccessLevels represents the push access levels for the protected branch.
	PushAccessLevels []*BranchAccessDescription `json:"pushAccessLevels,omitempty"`

	// MergeAccessLevels represents the merge access levels for the protected branch.
	MergeAccessLevels []*BranchAccessDescription `json:"mergeAccessLevels,omitempty"`

	// UnprotectAccessLevels represents the unprotect access levels for the protected branch.
	UnprotectAccessLevels []*BranchAccessDescription `json:"unprotectAccessLevels,omitempty"`

	// AllowForcePush indicates if force push is allowed to the protected branch.
	AllowForcePush bool `json:"allowForcePush,omitempty"`

	// CodeOwnerApprovalRequired indicates if code owner approval is required for merge requests.
	CodeOwnerApprovalRequired bool `json:"codeOwnerApprovalRequired,omitempty"`
}

// A ProtectedBranchSpec defines the desired state of a GitLab Protected Branch.
type ProtectedBranchSpec struct {
	xpv1.ResourceSpec `json:",inline"`
	ForProvider       ProtectedBranchParameters `json:"forProvider"`
}

// A ProtectedBranchStatus represents the observed state of a GitLab Protected Branch.
type ProtectedBranchStatus struct {
	xpv1.ResourceStatus `json:",inline"`
	AtProvider          ProtectedBranchObservation `json:"atProvider,omitempty"`
}

// +kubebuilder:object:root=true

// A ProtectedBranch is a managed resource that represents a GitLab Protected Branch
// +kubebuilder:printcolumn:name="READY",type="string",JSONPath=".status.conditions[?(@.type=='Ready')].status"
// +kubebuilder:printcolumn:name="SYNCED",type="string",JSONPath=".status.conditions[?(@.type=='Synced')].status"
// +kubebuilder:printcolumn:name="AGE",type="date",JSONPath=".metadata.creationTimestamp"
// +kubebuilder:printcolumn:name="BRANCH",type="string",JSONPath=".spec.forProvider.branchName"
// +kubebuilder:printcolumn:name="PROJECT",type="string",JSONPath=".spec.forProvider.projectId"
// +kubebuilder:subresource:status
// +kubebuilder:resource:scope=Cluster,categories={crossplane,managed,gitlab}
type ProtectedBranch struct {
	metav1.TypeMeta   `json:",inline"`
	metav1.ObjectMeta `json:"metadata,omitempty"`

	Spec   ProtectedBranchSpec   `json:"spec"`
	Status ProtectedBranchStatus `json:"status,omitempty"`
}

// +kubebuilder:object:root=true

// ProtectedBranchList contains a list of Protected Branch items
type ProtectedBranchList struct {
	metav1.TypeMeta `json:",inline"`
	metav1.ListMeta `json:"metadata,omitempty"`
	Items           []ProtectedBranch `json:"items"`
}
